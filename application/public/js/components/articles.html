<!-- List Articles -->
<section ng-if="!$ctrl.selectedArticle && !$ctrl.addNewArticle">
    <div class="container">
        <div class="row">
            <div class="col-xs-1 pagination-button">
                <a ng-click="$ctrl.prev()">prev</a>
            </div>
            <div class="col-xs-10">
                <div class="row">
                    <div class="col-xs-12">
                        <div class="col-xs-12 col-md-4" ng-repeat="article in $ctrl.articles | limitTo : 3 : $ctrl.articlestate track by $index">
                            <div class="thumbnail text-center">
                                <h3>{{article.title}}</h3>
                                <label>{{article.PublishedAt | date }}</label>
                                <hr/>
                                <p>{{article.content | limitTo:200}}...</p>
                                <a ng-click="$ctrl.selectArticle(article, $index)">Learn More
                                    <i class="fa fa-arrow-right" aria-hidden="true"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-xs-1 pagination-button">
                <a ng-click="$ctrl.next()">next</a>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12 text-center">
                <a ng-click="$ctrl.addNewArticle = true">
                    <i class="fa fa-plus" aria-hidden="true"></i>
                    Add Article</a>
            </div>
        </div>
    </div>
</section>

<!-- Card + EditMode -->
<section ng-if="$ctrl.selectedArticle">
    <div class="container">
        <div class="row">
            <div class="thumbnail">
                <a ng-click="$ctrl.selectedArticle = null">{{($ctrl.selectedArticle.editMode ? '' : 'Close')}}</a>
                <h3>
                    <span ng-if="!$ctrl.selectedArticle.editMode">{{$ctrl.selectedArticle.title}}</span>
                    <textarea ng-if="$ctrl.selectedArticle.editMode" type="text" name="title" ng-model="$ctrl.selectedArticle.title"></textarea>
                </h3>
                <p>
                    <span ng-if="!$ctrl.addNewArticle">{{$ctrl.selectedArticle.PublishedAt | date }}</span>
                    <p ng-if="$ctrl.addNewArticle" ng-model="selectedArticle.PublishedAt">{{$ctrl.date | date}}</p>
                </p>
                <hr/>
                <p>
                    <span ng-if="!$ctrl.selectedArticle.editMode">{{$ctrl.selectedArticle.content}}</span>
                    <textarea rows="4" cols="50" ng-if="$ctrl.selectedArticle.editMode" type="text" name="title" ng-model="$ctrl.selectedArticle.content"></textarea>
                </p>
                <p>
                    <a ng-click="$ctrl.edit($ctrl.selectedArticle, $index)">{{($ctrl.selectedArticle.editMode ? 'Valider' : 'Edit')}}</a>
                    <a ng-if="$ctrl.selectedArticle.editMode" ng-click="$ctrl.cancel($ctrl.selectedArticle)">Cancel</a>
                </p>
                <p>
                    <a ng-click="$ctrl.delete($ctrl.selectedArticle)">Delete</a>
                </p>
            </div>
        </div>
    </div>
</section>

<!-- Add Mode -->
<section ng-if="$ctrl.addNewArticle">
    <div class="container">
        <div class="row">
            <div class="thumbnail">
                <a ng-click="$ctrl.closeAddNewArticle()">Close</a>
                <h3>Title</h3>
                <h3>
                    <textarea type="text" ng-model="$ctrl.newArticle.title"></textarea>
                </h3>
                <hr/>
                <span ng-if="$ctrl.addNewArticle" ng-model="$ctrl.newArticle.PublishedAt"></span>
                <p>Content</p>
                <p>
                    <textarea rows="4" cols="50" type="text" ng-model="$ctrl.newArticle.content"></textarea>
                </p>
                <a ng-click="$ctrl.add()">Add</a>
            </div>
        </div>
    </div>
</section>
